# ğŸ”„ Assistance Request System - Workflow Diagram

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ASSISTANCE REQUEST FLOW                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

JUDGE SIDE                    DATABASE                    ADMIN SIDE
â•â•â•â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Judge Panel â”‚                                        â”‚Admin Dashboardâ”‚
â”‚              â”‚                                        â”‚              â”‚
â”‚  [ğŸ“–] Guide  â”‚                                        â”‚ ğŸ”” 3 URGENT â”‚
â”‚  [â“] Help   â”‚â—„â”€â”€â”€ Click Help                        â”‚              â”‚
â”‚  [ğŸšª] Logout â”‚                                        â”‚ Monitoring   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚ Requests...  â”‚
       â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Click â“                                               â–²
       â–¼                                                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚ Help Modal   â”‚                                               â”‚
â”‚ Opens        â”‚                                               â”‚
â”‚              â”‚                                               â”‚
â”‚ Need Help?   â”‚                                               â”‚
â”‚              â”‚                                               â”‚
â”‚ [Request     â”‚                                               â”‚
â”‚  Assistance] â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
       â”‚ Click Button                                          â”‚
       â–¼                                                        â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  INSERT INTO    â”€â”€â–º  â”‚  assistance_       â”‚  â”€â–º REALTIME     â”‚
  assistance_         â”‚  requests          â”‚     SUBSCRIPTION  â”‚
  requests            â”‚                    â”‚                   â”‚
                      â”‚ {                  â”‚                   â”‚
                      â”‚   judge_id: UUID   â”‚                   â”‚
                      â”‚   judge_name: Text â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”˜
                      â”‚   status: pending  â”‚
                      â”‚   requested_at:    â”‚
                      â”‚      2024-10-20    â”‚
                      â”‚      19:45:23      â”‚         Admin sees:
                      â”‚ }                  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚                 â”‚ ğŸ”” NEW REQUEST! â”‚
                               â”‚                 â”‚                 â”‚
                               â”‚                 â”‚ John Smith      â”‚
                               â”‚                 â”‚ 19:45 PM        â”‚
                               â”‚                 â”‚                 â”‚
                               â”‚                 â”‚ [âœ… Resolve]   â”‚
                               â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚                          â”‚
                               â”‚                          â”‚ Click Resolve
                               â”‚                          â–¼
                               â”‚                 Enter staff name:
                               â”‚                 "Maria Lopez"
                               â”‚                          â”‚
                               â”‚                          â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
                      â”‚ UPDATE             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ assistance_        â”‚
                      â”‚ requests           â”‚
                      â”‚                    â”‚
Judge sees:           â”‚ SET:               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   status =         â”‚
â”‚ ğŸ”” Admin     â”‚â—„â”€â”€â”€â”€ â”‚     'resolved'    â”‚
â”‚ Notified!    â”‚      â”‚   resolved_at =    â”‚
â”‚              â”‚      â”‚     NOW()          â”‚
â”‚ Staff coming â”‚      â”‚   resolved_by =    â”‚
â”‚              â”‚      â”‚     'Maria Lopez'  â”‚
â”‚ [Cancel]     â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
       â”‚                       â”‚
       â”‚ Optional: Cancel      â”‚
       â–¼                       â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  DELETE FROM    â”€â”€â–º  â”‚ Status changed to  â”‚
  assistance_         â”‚ 'cancelled' or     â”‚
  requests            â”‚ record deleted     â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## State Transitions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PENDING  â”‚ â—„â”€â”€ Judge clicks "Request Assistance"
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚
      â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RESOLVED  â”‚  â”‚ CANCELLED  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–²             â–²
      â”‚             â”‚
      â”‚             â”‚
Admin clicks     Judge or Admin
"Resolve"        clicks "Cancel"
```

---

## Real-Time Event Flow

```
TIME  JUDGE                    DATABASE                   ADMIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

19:45  Click "Request          INSERT record
       Assistance"             status: pending
                               judge: John Smith
                                    â”‚
                                    â”‚ Realtime
                                    â”‚ broadcasts
19:45  See "Admin Notified"         â”‚                    ğŸ”Š Audio plays!
       message                      â–¼                    ğŸŸ¥ Alert banner
                                                         ğŸ“± Toast: "John needs help!"

19:46                                                    Event staff dispatched

19:48  Staff arrives                                    Staff helping...
       Issue being fixed

19:50                                                    Click "Resolve"
                                                         Enter: "Maria Lopez"
                                                              â”‚
                                                              â–¼
19:50  Status updates to       UPDATE record           âœ… Moved to "Resolved"
       show resolved           status: resolved            section
                               resolved_by: Maria
                                    â”‚
                                    â”‚ Realtime
19:50  Can now cancel               â–¼                   Count updates
       request                  Database updated         Stats refresh
```

---

## Component Communication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REACT COMPONENT TREE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          App.jsx
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                             â”‚
         Judge Route                   Admin Route
              â”‚                             â”‚
              â–¼                             â–¼
      JudgePageNew.jsx              AdminAssistance.jsx
              â”‚                             â”‚
              â”‚                             â”‚
      States: â”‚                     States: â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ assistanceReq  â”‚            â”‚ requests []    â”‚
      â”‚ uested: bool   â”‚            â”‚ stats {}       â”‚
      â”‚                â”‚            â”‚                â”‚
      â”‚ Functions:     â”‚            â”‚ Functions:     â”‚
      â”‚ - check()      â”‚            â”‚ - fetch()      â”‚
      â”‚ - request()    â”‚            â”‚ - resolve()    â”‚
      â”‚ - cancel()     â”‚            â”‚ - cancel()     â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                             â”‚
              â”‚                             â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Supabase Client â”‚
              â”‚                  â”‚
              â”‚  - Insert        â”‚
              â”‚  - Update        â”‚
              â”‚  - Delete        â”‚
              â”‚  - Subscribe     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  PostgreSQL DB   â”‚
              â”‚                  â”‚
              â”‚  assistance_     â”‚
              â”‚  requests table  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   judges     â”‚         â”‚ assistance_requests  â”‚
â”‚              â”‚         â”‚                      â”‚
â”‚ id (PK) â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ judge_id (FK)       â”‚
â”‚ name         â”‚         â”‚ judge_name          â”‚
â”‚ email        â”‚         â”‚ status              â”‚
â”‚ ...          â”‚         â”‚ requested_at        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ resolved_at         â”‚
                         â”‚ resolved_by         â”‚
                         â”‚ notes               â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚
                         Indexes:  â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ - judge_id         â”‚
                         â”‚ - status           â”‚
                         â”‚ - requested_at DESCâ”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Notification System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ADMIN NOTIFICATION TRIGGERS                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  New Request Arrives
          â”‚
          â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Supabase      â”‚
  â”‚ Realtime      â”‚
  â”‚ Event:        â”‚
  â”‚ 'INSERT'      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
    Triggers:
          â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                â”‚              â”‚              â”‚
          â–¼                â–¼              â–¼              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Audio    â”‚    â”‚ Toast    â”‚   â”‚ Banner   â”‚  â”‚ List     â”‚
   â”‚ Alert    â”‚    â”‚ Popup    â”‚   â”‚ Update   â”‚  â”‚ Refresh  â”‚
   â”‚          â”‚    â”‚          â”‚   â”‚          â”‚  â”‚          â”‚
   â”‚ ğŸ”Š Play  â”‚    â”‚ ğŸš¨ Show  â”‚   â”‚ ğŸ”´ Pulse â”‚  â”‚ +1 New   â”‚
   â”‚ Sound    â”‚    â”‚ Message  â”‚   â”‚ Animationâ”‚  â”‚ Request  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Interface States

### Judge Panel - Help Icon States:

```
State 1: NORMAL (No Active Request)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â“ Help       â”‚ â—„â”€â”€ Blue icon
â”‚ (No badge)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Click
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Need Technical Assistance? â”‚
â”‚                            â”‚
â”‚ [ğŸ”” Request Assistance]   â”‚ â—„â”€â”€ Red button
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Click
       â–¼

State 2: REQUESTED (Active Request)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â“ Help       â”‚ â—„â”€â”€ Blue icon (no change)
â”‚ (No badge)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Click
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” Assistance Requested   â”‚ â—„â”€â”€ Yellow box
â”‚                            â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚ â”ƒ Admin notified!     â”ƒ  â”‚
â”‚ â”ƒ Staff coming soon   â”ƒ  â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                            â”‚
â”‚ [Cancel Request]           â”‚ â—„â”€â”€ Option to cancel
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Panel - Request States:

```
PENDING (Urgent)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ URGENT                  â”‚ â—„â”€â”€ Red badge, animated
â”‚                             â”‚
â”‚ ğŸ‘¤ John Smith              â”‚
â”‚ â° Requested: 7:45 PM      â”‚
â”‚    (2 minutes ago)          â”‚
â”‚                             â”‚
â”‚ [âœ… Resolve] [âŒ Cancel]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RESOLVED
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Resolved                â”‚ â—„â”€â”€ Green badge
â”‚                             â”‚
â”‚ ğŸ‘¤ John Smith              â”‚
â”‚ â° Requested: 7:45 PM      â”‚
â”‚ âœ… Resolved: 7:50 PM       â”‚
â”‚    by Maria Lopez           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**This diagram shows:**

1. Complete request lifecycle
2. Real-time event propagation
3. Component communication
4. Database relationships
5. UI state changes
6. Notification triggers

**Save this for training event staff!**
